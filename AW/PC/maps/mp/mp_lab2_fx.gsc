/*******************************************************************
 * Decompiled By: Bog
 * Decompiled File: mp\mp_lab2_fx.gsc
 * Game: Call of Duty: Advanced Warfare
 * Platform: PC
 * Function Count: 6
 * Decompile Time: 113 ms
 * Timestamp: 4/22/2024 2:17:44 AM
*******************************************************************/

//Function Number: 1
main()
{
	level._effect["steam_canister_hide"] = loadfx("vfx/map/mp_lab/steam_canister_hide");
	level._effect["valley_fog"] = loadfx("vfx/map/mp_lab/valley_fog");
	level._effect["fog_distant_vista_snow"] = loadfx("vfx/fog/fog_distant_vista_snow");
	level._effect["freezer_capsule_frost"] = loadfx("vfx/map/mp_lab/freezer_capsule_frost");
	level._effect["lab2_crane_red_alarm_2"] = loadfx("vfx/lights/mp_lab2/lab2_crane_red_alarm_2");
	level._effect["lab_canister_liquid_orange"] = loadfx("vfx/water/lab_canister_liquid_orange");
	level._effect["ground_light_wind_snow_mesh_lp"] = loadfx("vfx/snow/ground_light_wind_snow_mesh_lp");
	level._effect["snow_cloud_fall_lrg_lp"] = loadfx("vfx/snow/snow_cloud_fall_lrg_lp");
	level._effect["snow_light_wind_gust_lrg_runner"] = loadfx("vfx/snow/snow_light_wind_gust_lrg_runner");
	level._effect["snow_light_wind_gust_runner"] = loadfx("vfx/snow/snow_light_wind_gust_runner");
	level._effect["snow_light_wind_gust_a"] = loadfx("vfx/snow/snow_light_wind_gust_a");
	level._effect["vertical_light_wind_snow_runner"] = loadfx("vfx/snow/vertical_light_wind_snow_runner");
	level._effect["ground_snow_light_wind_runner"] = loadfx("vfx/snow/ground_snow_light_wind_runner");
	level._effect["roof_snow_hvy_wind_lp"] = loadfx("vfx/snow/roof_snow_hvy_wind_lp");
	level._effect["light_dust_particles_2"] = loadfx("vfx/dust/light_dust_particles_2");
	level._effect["ground_snow_hvy_wind_lrg_lp"] = loadfx("vfx/snow/ground_snow_hvy_wind_lrg_lp");
	level._effect["ground_snow_hvy_wind_flat_wide_lp"] = loadfx("vfx/snow/ground_snow_hvy_wind_flat_wide_lp");
	level._effect["ground_snow_hvy_wind_flat_lp"] = loadfx("vfx/snow/ground_snow_hvy_wind_flat_lp");
	level._effect["heavy_lift_chopper_rotor"] = loadfx("vfx/unique/heavy_lift_chopper_rotor");
	level._effect["light_welding_sparks_room_lrg"] = loadfx("vfx/lights/light_welding_sparks_room_lrg");
	level._effect["heli_dust_lab_heavy_chopper"] = loadfx("vfx/treadfx/heli_dust_lab_heavy_chopper");
	level._effect["heavy_lift_chopper_engine"] = loadfx("vfx/vehicle/heavy_lift_chopper_engine");
	level._effect["clamp_release_puff"] = loadfx("vfx/smoke/clamp_release_puff");
	level._effect["crane_sparks"] = loadfx("vfx/sparks/crane_scrape_sparks_looping");
	level._effect["falling_pipe_water_trickle_lp"] = loadfx("vfx/water/falling_pipe_water_trickle_lp");
	level._effect["aircraft_light_wingtip_green"] = loadfx("vfx/lights/aircraft_light_wingtip_green_large");
	level._effect["aircraft_light_wingtip_red"] = loadfx("vfx/lights/aircraft_light_wingtip_red_large");
	level._effect["aircraft_light_red_blink"] = loadfx("vfx/lights/aircraft_light_red_blink_large");
	level._effect["aircraft_light_white_blink"] = loadfx("vfx/lights/aircraft_light_white_blink_large");
	level._effect["building_drop_smoke"] = loadfx("vfx/map/mp_lab/building_drop_smoke");
	level._effect["hologram_bio_lab_canister_child_tablegfx"] = loadfx("vfx/unique/hologram_bio_lab_canister_child_tablegfx");
	level._effect["hologram_lab2_chemical_vat_child_tablegfx"] = loadfx("vfx/unique/hologram_lab2_chemical_vat_child_tablegfx");
	level._effect["lab_chemical_vat_bubbles"] = loadfx("vfx/water/lab_chemical_vat_bubbles");
	level._effect["lab_machine_bubbles"] = loadfx("vfx/water/lab_machine_bubbles");
	level._effect["killstreak_scanner_beam_vertical"] = loadfx("vfx/map/mp_lab/killstreak_scanner_beam_vertical");
	level._effect["killstreak_scanner_beam_horizontal"] = loadfx("vfx/map/mp_lab/killstreak_scanner_beam_horizontal");
	level._effect["falling_pipe_water_trickle_lp"] = loadfx("vfx/water/falling_pipe_water_trickle_lp");
	level._effect["falling_water_drip_line_runner_fast"] = loadfx("vfx/water/falling_water_drip_line_runner_fast");
	level._effect["snow_tornado_s_runner"] = loadfx("vfx/snow/snow_tornado_s_runner");
	level._effect["snow_blown_off_rocks_lp"] = loadfx("vfx/snow/snow_blown_off_rocks_lp");
	level._effect["hologram_bio_lab_canister"] = loadfx("vfx/unique/hologram_bio_lab_canister");
	level._effect["hologram_lab_chemical_vat"] = loadfx("vfx/unique/hologram_lab_chemical_vat");
	level._effect["steam_building_exhaust_windy"] = loadfx("vfx/steam/steam_building_exhaust_windy");
	level._effect["generator_steam_windy_sm"] = loadfx("vfx/steam/generator_steam_windy_sm");
	level._effect["steam_vent_burst_runner"] = loadfx("vfx/steam/steam_vent_burst_runner");
	level._effect["ground_snow_drifts_flat_lp"] = loadfx("vfx/snow/ground_snow_drifts_flat_lp");
	level._effect["plastic_shreds_hanging_a"] = loadfx("vfx/wind/plastic_shreds_hanging_a");
	level._effect["plastic_shreds_hanging_b"] = loadfx("vfx/wind/plastic_shreds_hanging_b");
	level._effect["plastic_shreds_hanging_c"] = loadfx("vfx/wind/plastic_shreds_hanging_c");
	level._effect["plastic_shreds_hanging_d"] = loadfx("vfx/wind/plastic_shreds_hanging_d");
	level._effect["plastic_shreds_hanging_e"] = loadfx("vfx/wind/plastic_shreds_hanging_e");
	level._effect["generator_steam_windy"] = loadfx("vfx/steam/generator_steam_windy");
	level._effect["plastic_shreds_sheet_a"] = loadfx("vfx/wind/plastic_shreds_sheet_a");
	level._effect["plastic_shreds_sheet_b"] = loadfx("vfx/wind/plastic_shreds_sheet_b");
	level._effect["ground_snow_hvy_wind_lp"] = loadfx("vfx/snow/ground_snow_hvy_wind_lp");
	level._effect["snow_cloud_lrg_lp"] = loadfx("vfx/snow/snow_cloud_lrg_lp");
	level._effect["steam_xs_vent_slow"] = loadfx("vfx/steam/steam_xs_vent_slow");
	level._effect["cloud_shadows_lrg"] = loadfx("vfx/cloud/cloud_shadows_lrg");
	level._effect["frost_patch"] = loadfx("vfx/fog/frost_patch");
	level._effect["whispy_clouds_hemisphere"] = loadfx("vfx/cloud/clouds_hemisphere_lab2");
	level._effect["welding_sparks"] = loadfx("vfx/sparks/welding_sparks_oneshot");
	level._effect["falling_water_drip_100x100_runner"] = loadfx("vfx/water/falling_water_drip_100x100_runner");
	level._effect["falling_pipe_water_trickle_lp"] = loadfx("vfx/water/falling_pipe_water_trickle_lp");
	level._effect["falling_water_drip_line_runner_fast"] = loadfx("vfx/water/falling_water_drip_line_runner_fast");
	level._effect["snow_tornado_s_runner"] = loadfx("vfx/snow/snow_tornado_s_runner");
	level._effect["snow_blown_off_rocks_lp"] = loadfx("vfx/snow/snow_blown_off_rocks_lp");
	level._effect["electrical_sparks_runner"] = loadfx("vfx/explosion/electrical_sparks_runner");
	level._effect["light_fluorescent_smoke"] = loadfx("vfx/lights/light_fluorescent_smoke");
	level._effect["lights_conelight_smokey"] = loadfx("vfx/lights/lights_conelight_smokey");
	level._effect["light_spotlight_cone_haze"] = loadfx("vfx/lights/light_spotlight_cone_haze");
	level._effect["light_godray_beam_2"] = loadfx("vfx/lights/light_godray_beam_2");
	level._effect["lights_conelight_smokey"] = loadfx("vfx/lights/lights_conelight_smokey");
	level._effect["wind_blowing_debris"] = loadfx("vfx/wind/wind_blowing_debris");
	level._effect["wpn_crn_rm_spt_flare"] = loadfx("vfx/lights/mp_lab2/wpn_crn_rm_spt_flare");
	level._effect["conveyer_bldg_spt_flare"] = loadfx("vfx/lights/mp_lab2/conveyer_bldg_spt_flare");
	level._effect["lab_crane_arm_01_lights"] = loadfx("vfx/props/lab_crane_arm_01_lights");
	level._effect["lab_int_win03_whole128_glow"] = loadfx("vfx/lensflare/lab_int_win03_whole128_glow");
	level._effect["lab_int_doorframe_trans_glow"] = loadfx("vfx/lensflare/lab_int_doorframe_trans_glow");
	level._effect["lab_int_win_whole128_glw_black"] = loadfx("vfx/lights/mp_lab2/lab_int_win_whole128_glw_black");
	level._effect["fx_sunflare_lab2"] = loadfx("vfx/lensflare/fx_sunflare_lab2");
	level._effect["light_point_green"] = loadfx("vfx/lights/light_point_green");
	level._effect["light_point_green_sm"] = loadfx("vfx/lights/light_point_green_sm");
	level._effect["lab2_crane_red_alarm"] = loadfx("vfx/lights/mp_lab2/lab2_crane_red_alarm");
	thread setupholograms();
}

//Function Number: 2
setupholograms()
{
	var_00 = 15;
	wait(0.5);
	var_01 = getent("canister_holo","targetname");
	if(isdefined(var_01))
	{
		var_02 = var_01 common_scripts\utility::spawn_tag_origin();
		if(isdefined(var_01))
		{
			var_02 show();
			wait(0.5);
			var_02 thread maps\mp\mp_lab2::rotatemeshes(16);
			playfxontag(common_scripts\utility::getfx("hologram_bio_lab_canister"),var_02,"tag_origin");
			var_03 = spawnfx(common_scripts\utility::getfx("hologram_bio_lab_canister_child_tablegfx"),var_01.origin,(0,0,270));
			triggerfx(var_03);
			for(;;)
			{
				wait(var_00);
				stopfxontag(common_scripts\utility::getfx("hologram_bio_lab_canister"),var_02,"tag_origin");
				var_03 delete();
				playfxontag(common_scripts\utility::getfx("hologram_lab_chemical_vat"),var_02,"tag_origin");
				var_04 = spawnfx(common_scripts\utility::getfx("hologram_lab2_chemical_vat_child_tablegfx"),var_01.origin,(0,0,270));
				triggerfx(var_04);
				var_05 = getscriptablearray("hologram_blue_light","targetname");
				foreach(var_07 in var_05)
				{
					var_07 setscriptablepartstate("bluelgt","blue_off");
				}

				wait(0.1);
				var_05 = getscriptablearray("hologram_yellow_light","targetname");
				foreach(var_07 in var_05)
				{
					var_07 setscriptablepartstate("yellgt","yel_on");
				}

				wait(var_00);
				stopfxontag(common_scripts\utility::getfx("hologram_lab_chemical_vat"),var_02,"tag_origin");
				var_04 delete();
				playfxontag(common_scripts\utility::getfx("hologram_bio_lab_canister"),var_02,"tag_origin");
				var_03 = spawnfx(common_scripts\utility::getfx("hologram_bio_lab_canister_child_tablegfx"),var_01.origin,(0,0,270));
				triggerfx(var_03);
				var_05 = getscriptablearray("hologram_yellow_light","targetname");
				foreach(var_07 in var_05)
				{
					var_07 setscriptablepartstate("yellgt","yel_off");
				}

				wait(0.1);
				var_05 = getscriptablearray("hologram_blue_light","targetname");
				foreach(var_07 in var_05)
				{
					var_07 setscriptablepartstate("bluelgt","blue_on");
				}
			}
		}
	}
}

//Function Number: 3
startheavylifterfx()
{
	playfxontag(common_scripts\utility::getfx("heavy_lift_chopper_rotor"),self,"TAG_SPIN_MAIN_ROTOR_L");
	playfxontag(common_scripts\utility::getfx("heavy_lift_chopper_rotor"),self,"TAG_SPIN_MAIN_ROTOR_R");
	wait 0.05;
	playfxontag(common_scripts\utility::getfx("heavy_lift_chopper_engine"),self,"wingWrist_L");
	playfxontag(common_scripts\utility::getfx("heavy_lift_chopper_engine"),self,"wingWrist_R");
	wait 0.05;
	playfxontag(common_scripts\utility::getfx("aircraft_light_wingtip_green"),self,"TAG_LIGHT_WING_L");
	playfxontag(common_scripts\utility::getfx("aircraft_light_wingtip_green"),self,"TAG_LIGHT_TAIL_L");
	wait 0.05;
	playfxontag(common_scripts\utility::getfx("aircraft_light_wingtip_red"),self,"TAG_LIGHT_WING_R");
	playfxontag(common_scripts\utility::getfx("aircraft_light_wingtip_red"),self,"TAG_LIGHT_TAIL_R");
	wait 0.05;
	playfxontag(common_scripts\utility::getfx("aircraft_light_red_blink"),self,"TAG_LIGHT_BELLY");
	playfxontag(common_scripts\utility::getfx("aircraft_light_white_blink"),self,"TAG_LIGHT_CRANE_L");
	playfxontag(common_scripts\utility::getfx("aircraft_light_white_blink"),self,"TAG_LIGHT_CRANE_R");
}

//Function Number: 4
startheligroundfx()
{
	playfxontag(common_scripts\utility::getfx("heli_dust_lab_heavy_chopper"),self,"TAG_HELIGROUNDFX_L");
	playfxontag(common_scripts\utility::getfx("heli_dust_lab_heavy_chopper"),self,"TAG_HELIGROUNDFX_R");
}

//Function Number: 5
stopheligroundfx()
{
	stopfxontag(common_scripts\utility::getfx("heli_dust_lab_heavy_chopper"),self,"TAG_HELIGROUNDFX_L");
	stopfxontag(common_scripts\utility::getfx("heli_dust_lab_heavy_chopper"),self,"TAG_HELIGROUNDFX_R");
}

//Function Number: 6
clampreleasefx()
{
	playfxontag(common_scripts\utility::getfx("clamp_release_puff"),self,"cableClawFR");
	wait(0.1);
	playfxontag(common_scripts\utility::getfx("clamp_release_puff"),self,"cableClawFL");
	wait(0.1);
	playfxontag(common_scripts\utility::getfx("clamp_release_puff"),self,"cableClawKR");
	wait(0.1);
	playfxontag(common_scripts\utility::getfx("clamp_release_puff"),self,"cableClawKL");
}